<!DOCTYPE html>
<html lang="mn">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Khalk Store</title>
<style>
body {margin:0; padding:0; font-family:Arial,sans-serif; background:#111; color:#eee;}
header {padding:15px; display:flex; align-items:center; justify-content:space-between; border-bottom:1px solid #222;}
header img.logo{width:40px;height:40px;}
header img.cart{width:28px;height:28px;cursor:pointer;}

/* Products grid like Shopify */
.products {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(160px,1fr));
  gap:20px;
  padding:20px;
}
.product {
  background:#1c1c1c; 
  border-radius:12px; 
  padding:10px; 
  text-align:center; 
  position:relative; 
  cursor:pointer; 
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  overflow:hidden;
}
.product img {
  width:100%; 
  border-radius:12px; 
  transition: transform 0.3s ease;
}
.product:hover img {
  transform: scale(1.1);
}
.price {margin-top:8px; font-size:14px;}
.old-price{text-decoration:line-through;color:#999;margin-left:4px;}
button {
  padding:6px 12px; 
  border:none; 
  border-radius:8px; 
  background:crimson; 
  color:#fff; 
  font-size:13px; 
  cursor:pointer; 
  margin-top:6px;
  transition: transform 0.2s ease, background 0.2s ease;
}
button:hover {background:darkred; transform: scale(1.05);}

.page{display:none;}
.page.active{display:block;}

/* Cart */
.cart-page{padding:20px;}
.cart-item{background:#1c1c1c; border-radius:12px; padding:10px; margin-bottom:10px; display:flex; align-items:center; gap:10px; position:relative; animation:slideIn 0.5s ease forwards;}
.cart-item img{width:50px;border-radius:6px;}
.cart-empty{text-align:center;margin-top:50px;color:#888;font-size:16px;}
.cart-item .delete-btn{
  position:absolute; right:-50px; top:50%; transform:translateY(-50%); width:28px; height:28px;
  opacity:0; transition: all 0.3s ease;
}
.cart-item:hover{border:2px solid red;}
.cart-item:hover .delete-btn{right:10px; opacity:1;}

/* Slide in */
@keyframes slideIn {from {opacity:0; transform:translateX(-50px);} to {opacity:1; transform:translateX(0);}}

/* Notification panel - Гоё болгосон */
#notify {
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(45deg, #28a745, #34c759); /* Градиент дэвсгэр */
  border: none;
  color: #fff;
  padding: 12px 24px;
  border-radius: 10px;
  font-size: 16px;
  font-weight: 600;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
  display: none;
  z-index: 1000;
  box-shadow: 0 4px 15px rgba(0,255,0,0.3), 0 0 10px rgba(0,255,0,0.2); /* Зөөлөн гэрэл */
  text-align: center;
}

@keyframes notifyIn {0% {opacity:0; transform:translate(-50%, -50px);} 100% {opacity:1; transform:translate(-50%, 0);}}
@keyframes notifyOut {0% {opacity:1; transform:translate(-50%, 0);} 100% {opacity:0; transform:translate(-50%, -50px);}}

/* Add-to-cart button panel - Гоё болгосон */
.product-panel {
  position: absolute;
  bottom: 8px;
  left: 50%;
  transform: translateX(-50%);
  display: none;
  gap: 8px;
}
.product-panel button {
  font-size: 13px;
  padding: 8px 16px;
  border-radius: 10px;
  border: none;
  background: linear-gradient(45deg, #ff4d4d, #ff1a1a); /* Градиент товч */
  color: #fff;
  font-weight: 500;
  cursor: pointer;
  transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.2s ease;
  outline: none; /* Цэнхэр хүрээг арилгах */
}
.product-panel button:hover {
  transform: scale(1.1);
  box-shadow: 0 2px 8px rgba(255,0,0,0.3);
  opacity: 0.9;
}
.product-panel button:focus {
  outline: none; /* Цэнхэр хүрээг бүрэн арилгах */
}
.product-panel button:nth-child(2) {
  background: linear-gradient(45deg, #007bff, #0056b3); /* Захиалах товчны өөр өнгө */
}
.product-panel button:nth-child(2):hover {
  box-shadow: 0 2px 8px rgba(0,123,255,0.3);
}
</style>
</head>
<body>

<header>
  <div style="display:flex;align-items:center;gap:10px;">
    <img src="assets/khalk.png" class="logo" alt="Logo">
  </div>
  <img src="assets/cart.png" class="cart" alt="Cart" onclick="openCart()">
</header>

<!-- Products Page -->
<div id="productsPage" class="page active">
  <div class="products">
    <div class="product" onclick="showPanel(this)">
      <img src="assets/baraa1.png" alt="Baraa1">
      <div class="price">₮121,000 <span class="old-price">₮149,000</span></div>
      <div class="product-panel">
        <button onclick="event.stopPropagation(); addToCart('assets/baraa1.png','₮121,000')">Сагсанд нэмэх</button>
        <button onclick="event.stopPropagation(); openOrder()">Захиалах</button>
      </div>
    </div>
    <div class="product" onclick="showPanel(this)">
      <img src="assets/baraa2.png" alt="Baraa2">
      <div class="price">₮177,000 <span class="old-price">₮210,000</span></div>
      <div class="product-panel">
        <button onclick="event.stopPropagation(); addToCart('assets/baraa2.png','₮177,000')">Сагсанд нэмэх</button>
        <button onclick="event.stopPropagation(); openOrder()">Захиалах</button>
      </div>
    </div>
    <div class="product" onclick="showPanel(this)">
      <img src="assets/baraa3.png" alt="Baraa3">
      <div class="price">₮153,000 <span class="old-price">₮185,000</span></div>
      <div class="product-panel">
        <button onclick="event.stopPropagation(); addToCart('assets/baraa3.png','₮153,000')">Сагсанд нэмэх</button>
        <button onclick="event.stopPropagation(); openOrder()">Захиалах</button>
      </div>
    </div>
  </div>
</div>

<!-- Cart Page -->
<div id="cartPage" class="page cart-page">
  <div id="cartItems"></div>
  <div class="cart-empty" id="cartEmpty">Сагс хоосон байна</div>
  <button onclick="backToShop()">⇦ Дэлгүүр рүү буцах</button>
</div>

<!-- Notification -->
<div id="notify"></div>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];

// Show page
function showPage(pageId){
  document.querySelectorAll('.page').forEach(p=>p.classList.remove('active'));
  document.getElementById(pageId).classList.add('active');
}

// Cart page
function openCart(){
  showPage('cartPage');
  renderCart();
}

function backToShop(){
  showPage('productsPage');
}

// Product panel
function showPanel(el){
  document.querySelectorAll('.product-panel').forEach(p=>p.style.display='none');
  const panel = el.querySelector('.product-panel');
  if(panel) panel.style.display='flex';
}

// Add to cart with scale effect
function addToCart(img, price){
  const productEl = document.querySelectorAll('.product img[src="'+img+'"]')[0].parentElement;
  productEl.style.transform = 'scale(1.05)';
  setTimeout(()=>{ productEl.style.transform='scale(1)'; },300);

  cart.push({img,price});
  localStorage.setItem("cart", JSON.stringify(cart));
  renderNotification("Бараа сагсанд нэмэгдлээ!");
  document.querySelectorAll('.product-panel').forEach(p=>p.style.display='none');
}

// Render cart
function renderCart(){
  const container = document.getElementById("cartItems");
  const empty = document.getElementById("cartEmpty");
  container.innerHTML = "";
  
  if(cart.length === 0){
    empty.style.display = "block";
    return;
  }
  
  empty.style.display = "none";
  
  cart.forEach((item,index)=>{
    const div = document.createElement("div");
    div.className = "cart-item";
    div.innerHTML = `<img src="${item.img}"><div>${item.price}</div>
    <img src="assets/delete.png" class="delete-btn" onclick="deleteItem(${index})">`;
    container.appendChild(div);
  });
}

// Delete item
function deleteItem(index){
  cart.splice(index,1);
  localStorage.setItem("cart", JSON.stringify(cart));
  renderCart();
}

// Notification animation
function renderNotification(msg){
  const notify = document.getElementById("notify");
  notify.innerText = msg;
  notify.style.display = "block";
  notify.style.animation = "notifyIn 0.3s forwards";
  setTimeout(()=>{ notify.style.animation = "notifyOut 0.3s forwards"; }, 1500);
  setTimeout(()=>{ notify.style.display="none"; }, 1800);
}

// Order placeholder
function openOrder(){
  alert("Захиалга хийх popup"); // Firebase order кодыг энд ашиглаж болно
}
</script>

</body>
</html>